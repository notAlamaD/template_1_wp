# Fin Economy — новостная тема WordPress

Адаптивная кастомная тема для финансово-экономических новостей с hero-блоком, сеткой последних материалов, правым сайдбаром и настраиваемыми цветами.

## Установка
1. Создайте папку темы в `wp-content/themes/` (например, `fin-economy`) и скопируйте в неё все файлы из корня репозитория.
2. В админке активируйте тему, затем в «Внешний вид → Меню» соберите меню и назначьте его в области **Primary Menu** и **Footer Menu**.
3. В «Настройки → Настроить» выберите макет главной (Layout A/B/C), вариант хедера и футера, цветовую схему (Classic/Green/Dark) и типографику (Modern/News/Soft), загрузите логотип. Затем задайте акцентный цвет или оставьте пресет, при необходимости переопределите цвета шапки/футера/hero, цвета кнопок, включите или отключите блоки (Hero, Останні матеріали, Популярне, По категоріях) и их приоритеты, настройте ссылки на соцсети/RSS (включая Telegram) и текст футера. В разделе комментариев выберите тип капчи (встроенная математика или Google reCAPTCHA v2) и при необходимости укажите site/secret key. Добавьте пользовательские скрипты в `<head>` при необходимости.
4. Добавьте миниатюры к записям и убедитесь, что есть посты и категории для корректного отображения выбранного макета и сайдбара. При желании наполните сайт демо-контентом (см. ниже).

## Структура шаблонов
- `front-page.php` — диспетчер макета главной; шаблоны лежат в `template-parts/front/layout-a.php`, `layout-b.php`, `layout-c.php`.
- `index.php` — общий листинг записей с пагинацией и сайдбаром.
- `single.php` — статья с хлебными крошками, мета-блоком, контентом и блоком «Ще по темі».
- `page.php` — статические страницы.
- `page-news.php` — список всех записей (по 10 на страницу) с миниатюрой и тегами.
- `page-tags.php` — индекс всех тегов (по 50 на страницу) в виде плашек-чипов.
- `archive.php` и `category.php` — листинги архивов/рубрик с описанием, сеткой постов и пагинацией.
- `404.php` — страница ошибки «404 — сторінку не знайдено».
- `sidebar.php` — виджет-зона правой колонки: категории + «Популярне» (по комментариям, с запасным порядком по дате).
- Логика темы вынесена в папку `inc/`: `setup.php` (базовая инициализация, меню, виджеты), `assets.php` (CSS/JS + inline-переменные), `customizer.php` (настройки), `demo-content.php` (импорт демо), `meta.php` (OG/meta-теги), `comments.php` (форма и проверки) и `helpers.php` (вспомогательные функции).

## Особенности
- Поддержка `title-tag`, миниатюр, кастомного логотипа, меню, сайдбара и цветовых настроек (акцент, шапка, футер, hero-палитра, кнопки), а также OG/Twitter/meta-тегов для заголовков/описаний/изображений.
- Три макета главной (Hero+акценты, классический список, тематические блоки) с включением/отключением блоков и приоритетами, два варианта хедера и футера.
- Три цветовые схемы (Classic, Green, Dark) и три набора типографики (Modern, News, Soft), переключаемые без правок кода.
- Минимум зависимостей: один файл стилей (`style.css`) и лёгкий скрипт (`main.js`) для мобильного меню/выпадашек.
- Кнопки шаринга для записей (Facebook, X, Telegram, LinkedIn) с лаконичным оформлением.
- Комментарии без регистрации с пагинацией списка, полями имени и сообщения, без email/сайта/«запомнить», с выбором капчи: встроенный math-чек или Google reCAPTCHA v2 (по ключам из настроек).
- Все тексты проходят через функции перевода с text-domain `fin-economy`.

Дополнительно:

- Шаблон **News List** (`page-news.php`) выводит ленту всех постов по 10 на страницу в виде компактных карточек с датой, тегами и миниатюрой.
- Шаблон **Tag Index** (`page-tags.php`) выводит поток тегов-плашек по 50 штук на страницу с пейджингом.
- Чтобы использовать, создайте страницу в админке и выберите нужный шаблон в выпадающем списке «Атрибуты страницы». После сохранения откройте страницу на сайте — пагинация будет работать автоматически.

## Макеты и блоки
- **Layout A — Hero + акценты.** Большой герой слева и компактные карточки справа. Ниже блоки «Останні матеріали», «По категоріях» и «Популярне» в порядке, заданном числами приоритета.
- **Layout B — Классический новостник.** Лента последних материалов списком, затем рубричные подборки (Комуналка, Тарифи, Економія, Фінанси, Інвестиції) и блок популярного.
- **Layout C — Тематические блоки.** Небольшой блок ключевых материалов, затем три тематических секции (Комунальні послуги, Економія в побуті, Особисті фінанси) с опциональным сайдбаром.
- Блоки (Hero/Останні матеріали/Популярне/По категоріях) можно включать/выключать и менять порядок приоритетом. Сайдбар на главной также можно отключить отдельной опцией.

## Локализация
- Тема готова к переводу и включает файлы: `languages/fin-economy.pot`, а также `.po` для `en_US`, `uk_UA`, `ru_RU` (скомпилируйте `.mo` самостоятельно при необходимости).
- Активируйте нужный язык в настройках WordPress, и соответствующий `.mo` будет подхвачен автоматически после сборки (загрузка домена выполняется в `inc/setup.php`).
- При необходимости добавьте свой перевод через копию `.pot` и разместите пары `.po/.mo` в папке `languages/`.

## Микроразметка JSON-LD
- Код находится в `schema.php` и подключается из `functions.php`; вывод идёт через хуки `wp_head`.
- Автоматически формируются схемы Organization и WebSite на всех страницах, NewsArticle (с комментами) и BreadcrumbList на записях, ItemList на главной/архивах; FAQPage можно добавить по аналогии.
- Разметка генерируется только при отсутствии Yoast/RankMath (чтобы избежать дублей) и собирает данные из WordPress: заголовки, описания, миниатюры, логотип, категории, даты, ссылки и поиск.

## Демо-контент
В разделе «Внешний вид → Demo Content» можно создать пример наполнения одним кликом:

- категории: «Комуналка», «Тарифи», «Економія», «Фінанси», «Інвестиції»;
- страницы: «Політика», «Про сайт», «Реклама»;
- несколько демонстрационных публикаций с расширенными текстами и автоматическим связыванием с категориями;
- случайные изображения для постов (подтягиваются через picsum.photos);
- меню «Головне меню» (привязано к Primary) и «Меню футера» (привязано к Footer) со ссылками на категории и страницы.

Кнопка импорта доступна только администраторам. Повторный импорт не дублирует уже существующие элементы с такими же заголовками/слагами.
